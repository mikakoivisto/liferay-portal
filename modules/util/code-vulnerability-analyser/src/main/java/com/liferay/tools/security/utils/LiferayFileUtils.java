package com.liferay.tools.security.utils;

import java.io.File;
import java.io.FilenameFilter;
import java.util.List;

import com.github.javaparser.ast.body.ClassOrInterfaceDeclaration;

public class LiferayFileUtils {

	public static List<File> getJavaSources(List<File> dirs) {

		return FileUtils.getFiles(dirs, new FilenameFilter() {
				
			public boolean accept(File dir, String name) {
				return name.endsWith(".java");
			}
		});
	}

	public static List<File> getRemoteServiceImpls(List<File> dirs) {

		return FileUtils.getFiles(dirs, new FilenameFilter() {
				
			public boolean accept(File dir, String name) {
				return isRemoteServiceImpl(name);
			}
		});
	}
	
	public static boolean isRemoteServiceImpl(File file) {
		return isRemoteServiceImpl(file.getName());
	}
	
	public static boolean isRemoteServiceImpl(String filename) {
		return filename.endsWith("ServiceImpl.java") && !filename.endsWith("LocalServiceImpl.java");// && filename.contains("User"); //&& filename.contains("BookmarksEntry");
	}
	
	public static boolean isRemoteServiceImpl(ClassOrInterfaceDeclaration def) {		
		return isRemoteServiceImpl(def.getName() + ".java");
	}

}
